@page "/cases/{CaseId}"
@inject CSGOApiService ApiService
<h3>🗂️ Skins in this case:</h3>
@if (caseDto == null)
{
	<p>Loading or case not found...</p>
}
else
{
	<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
		@foreach (var skin in caseDto.Skins)
		{
			<div class="col">
				<div class="card h-100 shadow-sm">
					<img src="@skin.Image" class="card-img-top" alt="@skin.Name" style="object-fit: cover; height: 200px;">
					<div class="card-body">
						<h5 class="card-title">@skin.Name</h5>
						<span class="badge" style="background-color:@skin.Rarity.Color">
							@skin.Rarity.Name
						</span>
					</div>
				</div>
			</div>
		}
	</div>
}

@code {
	[Parameter]
	public string CaseId { get; set; }

	private CasesDto caseDto;

	protected override async Task OnInitializedAsync()
	{
		caseDto = await ApiService.GetSkinsAsync(CaseId);
	}
}
